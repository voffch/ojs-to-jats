Это веб-приложение для подготовки JATS XML метаданных научных публикаций на основании текста, введенного в форму. Основная задача - генерировать валидные [JATS XML v. 1.4](https://jats.nlm.nih.gov/archiving/tag-library/1.4/), пригодные для загрузки в [ИС Метафора](https://metafora.rcsi.science/).

Приложение запущено в режиме расширения браузера, а это значит, что можно попробовать автоматически заполнять формы из OJS. Порядок действий следующий:

- Подгружаете информацию - метаданные конкретной статьи - из OJS.
- Исправляете и дополняете данные в текстовых полях формы.
- Скачиваете готовый JATS XML (например, чтобы выложить на сайт).
- Здесь же отправляете JATS XML (как вариант, вместе с PDF) в Метафору через API.

Последние два пункта можно поменять местами: сначала убедиться что JATS XML без ошибок отправляется в Метафору, а уже затем скачать его.

#### Загрузка данных из OJS

должна работать так:

- Переходите в браузере на страницу со статьей в OJS (ту, которая содержит `article/view/` в URL).
- Кликаете на иконку расширения браузера.
- Во всплывшем всплывающем окне разрешаете доступ расширению к веб-странице вашего журнала.
- На вновь открывшейся вкладке проверяете, что номер статьи и ссылка на Base URL журнала подхватились корректно. Base URL - базовая часть гиперссылки в OJS, которая остается неизменной для всех страниц конкретного журнала. Номер статьи соответствует Submission ID, присваивается при загрузке статьи в OJS авторами и редакторами и после этого не меняется.
- Нажимаете кнопку **Загрузить**.

![загрузка из OJS](/img/fetch-controls.png)

Тумблер *При загрузке обновлять метаданные журнала* делает именно это - подгружает данные в раздел Журнал формы. Но так как из OJS добывается не вся информация (например, нет данных об издателе) и не всегда так как нужно, тумблер по умолчанию выключен. Можете включить при загрузке первой статьи и посмотреть результат.

Это приложение пытается собрать метаданные с веб-страницы статьи буквально из того, что есть - из OJS API (при наличии, наиболее адекватный и надежный способ), мета-тэгов на веб-страницах и кода видимой части html веб-страницы. В связи с этим для наиболее полной и корректной загрузки метаданных для OJS всех версий рекомендуется в настройках журнала включить плагины **COinS Plugin**, **Dublin Core Indexing Plugin** и **Google Scholar Indexing Plugin**. Для OJS версий >=3.2 рекомендуется также **залогиниться** в систему с учетной записью с правами редактора для обеспечения доступа по OJS API.

Обращайте внимание на сообщения в логе загрузки. Он информирует об отключенных плагинах, необходимости залогиниться, и подсказывает, когда что-то идет не так.

Далее, после успешной загрузки метаданных нужно проверить заполненные и заполнить недостающие поля в форме.